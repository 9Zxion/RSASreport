"use strict";(self.webpackChunkrsas_web=self.webpackChunkrsas_web||[]).push([[4011],{14068:(e,t,a)=>{a.d(t,{h:()=>g});var n=a(61446),s=a(52861),l=a(5255),o=a(22560),i=a(18036);const d=(0,i.H)(),r=(e="")=>e;var c=a(1869),u=a(22702),p=a(947);const f=p.o9.LOCAL;function m(e,t){return(f?u.G.setLocal:u.G.setSession)(e,t,!0)}var v=a(31641);const h=(void 0).VITE_BASE_URL,b=(0,i.H)(),y={transformResponseHook(e,t){const{isReturnNativeResponse:a,isTransformResponse:s}=t;if(b.setPageLoading(!1),a)return e;if(!s)return e.data;const{data:l}=e;l||console.log("出错");const{code:o,message:i}=l;if(o&&200==o)return{...l};let d=i||"";switch(o){case 401:return m(p.B1,""),m(p.Ee,null),u.G.removeSession(p.OT),window.location.reload(),{...l};case 400:case 500:break;default:i&&(d=i)}d&&n.ZP.warning(d)},transformResponseErroHook(e){if(b.setPageLoading(!1),"canceled"!=e.message)return{code:501,data:{message:"系统服务异常，请联系管理员"}}},requestInterceptors(e){const t=(0,c.q)(),a=(n=p.B1,(f?u.G.getLocal:u.G.getSession)(n));var n;if(t.getLocale){const a=v.l.filter((e=>e.event==t.getLocale));e.headers["Accept-Language"]=a[0].serviceKey}return a&&(e.headers.token=a),e}},g=(b.setPageLoading(!0),new class{constructor(e){this.options=e,this.axiosInstance=s.Z.create(e),this.setupInterceptors()}createAxios(e){this.axiosInstance=s.Z.create(e)}getTransform(){const{transform:e}=this.options;return e}getAxios(){return this.axiosInstance}configAxios(e){this.axiosInstance&&this.createAxios(e)}setupInterceptors(){const e=this.getTransform();if(!e)return;const{requestInterceptors:t,responseInterceptorsCatch:a,responseInterceptors:n}=e||{};this.axiosInstance.interceptors.request.use((e=>(t&&(e=t(e,this.options)),e.cancelToken=new s.Z.CancelToken((t=>{d.setCancelFnByUrl(e.url,t)})),e))),this.axiosInstance.interceptors.response.use((e=>(n&&(0,o.mf)(n)&&(e=n(e)),e)),void 0),a&&(0,o.mf)(a)&&this.axiosInstance.interceptors.response.use(void 0,(e=>a(this.axiosInstance,e)))}get(e,t){const a=r(e.url);return this.request({...e,method:"GET",url:a},t||{})}post(e,t){const a=r(e.url);return this.request({...e,method:"POST",url:a},t||{})}put(e,t){const a=r(e.url);return this.request({...e,method:"PUT",url:a},t||{})}delete(e,t){const a=r(e.url);return this.request({...e,method:"DELETE",url:a},t||{})}uploadFile(e,t){const a=r(e.url),n=new window.FormData,s=t.name||"file";return t.filename?n.append(s,t.file,t.filename):n.append(s,t.file),t.data&&Object.keys(t.data).forEach((e=>{const a=t.data[e];Array.isArray(a)?a.forEach((t=>{n.append(`${e}[]`,t)})):n.append(e,t.data[e])})),this.axiosInstance.request({...e,url:a,method:"POST",data:n,headers:{"Content-type":"multipart/form-data;charset=UTF-8",ignoreCancelToken:!0}})}request(e,t){const a=(0,l.p$)(e),{requestOptions:n}=this.options,{transform:s}=this.options,{transformResponseHook:o,transformResponseErroHook:i}=s||{},d=Object.assign({},n,t);return a.requestOptions=d,new Promise(((e,t)=>{this.axiosInstance.request(a).then((a=>{if(o)try{const t=o(a,d);e(t)}catch(e){t(e)}e(a)})).catch((a=>{if(i)try{const t=i(a);e(t)}catch(a){t(a)}t(a)}))}))}}((0,l.RH)({transform:(0,l.p$)(y),baseURL:h,headers:{"Content-Type":"application/json;charset=UTF-8"},requestOptions:{isReturnNativeResponse:!1,isTransformResponse:!0}},undefined)))},62354:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(8081),s=a.n(n),l=a(23645),o=a.n(l)()(s());o.push([e.id,".ant-form-item-label .content[data-v-e1caee1a] {\n  margin-left: 4px;\n  font-size: 12px;\n  color: #2e2e2e;\n}\n.p_text[data-v-e1caee1a] {\n  margin: 0 8px;\n  margin-bottom: 0;\n  line-height: 24px;\n}\n",""]);const i=o},83860:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(8081),s=a.n(n),l=a(23645),o=a.n(l)()(s());o.push([e.id,".advance_btn[data-v-47f4ea39] {\n  margin-left: 4px;\n}\n.advance_btn > span[data-v-47f4ea39] {\n  margin-left: 6px;\n  font-size: 10px;\n}\n",""]);const i=o},69671:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(8081),s=a.n(n),l=a(23645),o=a.n(l)()(s());o.push([e.id,".suffix[data-v-6b93802f] {\n  margin: 0 8px;\n  color: #aaa;\n}\n.typeTitle[data-v-6b93802f] {\n  height: 40px;\n}\n.typeTitle > span[data-v-6b93802f]:first-child {\n  font-weight: 600;\n  line-height: 24px;\n  color: #2e2e2e;\n}\n.typeTitle > span[data-v-6b93802f]:first-child::before {\n  display: inline-block;\n  margin-right: 8px;\n  width: 3px;\n  height: 18px;\n  background: #55a722;\n  content: '';\n  vertical-align: sub;\n}\n.collapseTitle[data-v-6b93802f] {\n  height: 40px;\n}\n.collapseTitle .anticon[data-v-6b93802f] {\n  margin-right: 8px;\n  font-size: 12px;\n  color: #55a722;\n  cursor: pointer;\n}\n.collapseTitle > span[data-v-6b93802f]:last-child {\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 24px;\n  color: #2e2e2e;\n  cursor: pointer;\n}\n.collapseTitle > span[data-v-6b93802f]:last-child .content {\n  margin-left: 4px;\n  font-size: 12px;\n  vertical-align: top;\n}\n[data-v-6b93802f] .ant-divider.ant-divider-horizontal.ant-divider-with-text-left::before {\n  width: 100%;\n  height: 16px;\n}\n[data-v-6b93802f] .ant-divider.ant-divider-horizontal.ant-divider-with-text-left .ant-divider-inner-text {\n  padding: 0;\n}\n",""]);const i=o},43419:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(8081),s=a.n(n),l=a(23645),o=a.n(l)()(s());o.push([e.id,"",""]);const i=o},65279:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(8081),s=a.n(n),l=a(23645),o=a.n(l)()(s());o.push([e.id,".suffix_btn[data-v-7aadc990] {\n  margin: 0 8px;\n}\n",""]);const i=o},8357:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(8081),s=a.n(n),l=a(23645),o=a.n(l)()(s());o.push([e.id,".detail[data-v-4c44ecde] {\n  margin-top: 16px;\n}\n.detail > div[data-v-4c44ecde] {\n  display: flex;\n  align-items: center;\n}\n.detail > div .primary[data-v-4c44ecde] {\n  display: flex;\n  align-items: center;\n  width: 400px;\n  white-space: nowrap;\n  gap: 8px;\n}\n.detail > div .text_comment[data-v-4c44ecde] {\n  margin-left: 8px;\n  color: #aaa;\n}\n.detail .senior_config[data-v-4c44ecde] {\n  align-items: baseline;\n  max-width: 1100px;\n  height: 350px;\n  border: 1px solid #dee0e3;\n  border-radius: 4px;\n  background: #fff;\n}\n.detail .senior_config .content[data-v-4c44ecde] {\n  padding: 16px;\n  width: 70%;\n  height: 100%;\n}\n.detail .senior_config .content > p[data-v-4c44ecde] {\n  display: flex;\n  justify-content: space-between;\n  font-size: 16px;\n  font-weight: 500;\n  color: #2e2e2e;\n}\n.detail .senior_config .content[data-v-4c44ecde]:first-child {\n  border-right: 1px solid #dee0e3;\n}\n.detail .senior_config .left > div[data-v-4c44ecde] {\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  white-space: nowrap;\n  gap: 4px;\n}\n.detail .senior_config .left > div .ant-select[data-v-4c44ecde]:first-child {\n  width: 60px;\n}\n.detail .senior_config .left > div .ant-select[data-v-4c44ecde]:nth-child(2),\n.detail .senior_config .left > div .ant-select[data-v-4c44ecde]:nth-child(3) {\n  width: 160px;\n}\n.detail .senior_config .left > div .ant-picker[data-v-4c44ecde] {\n  width: 150px;\n}\n.detail .senior_config .left > div > button[data-v-4c44ecde] {\n  margin-left: auto;\n  padding-left: 16px;\n}\n.detail .senior_config .left > div[data-v-4c44ecde]:nth-child(2n) {\n  border-radius: 4px;\n  background: #f7f8fa;\n}\n.detail .senior_config .left > div .addIcon[data-v-4c44ecde] {\n  font-size: 15px !important;\n}\n.detail .senior_config .right[data-v-4c44ecde] {\n  overflow-y: scroll;\n  height: 100%;\n}\n.detail .senior_config .right .result[data-v-4c44ecde] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.detail .senior_config .right .result > span[data-v-4c44ecde]:nth-child(1) {\n  word-break: break-word;\n}\n.detail .senior_config .right .result > span[data-v-4c44ecde]:nth-child(2) {\n  margin-left: auto;\n}\n.detail .senior_config .right .result .delBtn[data-v-4c44ecde] {\n  margin-left: 5px;\n  width: 12px;\n  color: #535353;\n}\n",""]);const i=o},56032:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(8081),s=a.n(n),l=a(23645),o=a.n(l)()(s());o.push([e.id,"",""]);const i=o},27218:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(8081),s=a.n(n),l=a(23645),o=a.n(l)()(s());o.push([e.id,".transferTree[data-v-2ea5b0aa] {\n  display: flex;\n  align-items: center;\n  width: 700px;\n  gap: 16px;\n  height: 300px;\n}\n.transferTree .left[data-v-2ea5b0aa] {\n  overflow-y: auto;\n  padding: 16px;\n  width: 50%;\n  height: 100%;\n  border: 1px solid #dee0e3;\n  border-radius: 4px;\n}\n.transferTree .left .ant-select[data-v-2ea5b0aa],\n.transferTree .left .ant-tree[data-v-2ea5b0aa],\n.transferTree .left .ant-input[data-v-2ea5b0aa] {\n  margin-bottom: 16px;\n  width: 300px;\n}\n.transferTree .left[data-v-2ea5b0aa] .ant-tree {\n  margin-top: -10px;\n  max-height: 400px;\n}\n.transferTree .left[data-v-2ea5b0aa] .ant-spin-nested-loading {\n  height: 100%;\n}\n.transferTree .right[data-v-2ea5b0aa] {\n  overflow-y: auto;\n  padding: 16px;\n  width: 50%;\n  height: 100%;\n  max-height: 400px;\n  border: 1px solid #dee0e3;\n  border-radius: 4px;\n}\n.transferTree .right > p[data-v-2ea5b0aa] {\n  display: flex;\n  justify-content: space-between;\n}\n.transferTree .right > p > span[data-v-2ea5b0aa] {\n  white-space: nowrap;\n}\n.transferTree .right .result[data-v-2ea5b0aa] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.transferTree .right .result > span[data-v-2ea5b0aa] {\n  line-height: 30px;\n}\n.transferTree .right .delBtn[data-v-2ea5b0aa] {\n  width: 12px;\n  color: #535353;\n}\n",""]);const i=o},99876:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(8081),s=a.n(n),l=a(23645),o=a.n(l)()(s());o.push([e.id,"[data-v-a8ee7412] .ant-select,[data-v-a8ee7412] .ant-input-affix-wrapper,[data-v-a8ee7412] .ant-picker {\n  width: 400px;\n}\n.info[data-v-a8ee7412] {\n  margin-bottom: 20px;\n  padding: 10px;\n  border: 1px solid #e4d9a9;\n  background: #ffffef;\n}\n.info .message[data-v-a8ee7412] {\n  text-align: center;\n}\n.info .message .anticon[data-v-a8ee7412] {\n  margin: 0 5px;\n  font-size: 15px;\n}\n",""]);const i=o},14011:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ea});var n=a(66252),s=a(2262),l=a(3577),o=(a(57658),a(22560)),i=a(49963),d=(a(81299),a(5255)),r=a(65494),c=a(16987),u=a(26793),p=a(30678),f=a(72286),m=a(60867),v=a(58024),b=a(4775),y=a(9864),g=a(28337),w=a(53805),_=a(29937),k=a(9370),S=a(49773),U=a(52642),x=a(42223),T=a(79298),P=a(44320),D=a(9015),A=a(79414);const{t:W}=A.i18n.global,M=(0,n.aZ)({name:"CompWithsuffixBtn",props:{compName:{type:String,default:"Input"},btnOptions:{type:Object,default:()=>({})}},setup(e,{attrs:t}){const a=(0,n.Fl)((()=>Object.assign({text:W("cd60126447a6f69bd306a63e4de6e43c6c17f6de0c492da0eb0464a21f2939c2"),type:"text",show:!0},e.btnOptions))),l=(0,n.Fl)((()=>Xe.get(e.compName))),i=(0,n.Fl)((()=>{const e=(0,s.SU)(a).isShow;return(0,o.mf)(e)?(0,s.SU)(a).isShow(t):e}));return{renderComponent:l,getBtnOptions:a,isShow:i}}});var $=a(93379),C=a.n($),F=a(7795),L=a.n(F),B=a(90569),Z=a.n(B),O=a(3565),j=a.n(O),z=a(19216),I=a.n(z),R=a(44589),H=a.n(R),V=a(65279),G={};G.styleTagTransform=H(),G.setAttributes=j(),G.insert=Z().bind(null,"head"),G.domAPI=L(),G.insertStyleElement=I(),C()(V.Z,G),V.Z&&V.Z.locals&&V.Z.locals;var E=a(83744);const q=(0,E.Z)(M,[["render",function(e,t,a,s,o,d){const r=(0,n.up)("a-button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[((0,n.wg)(),(0,n.j4)((0,n.LL)(e.renderComponent),(0,l.vs)((0,n.F4)(e.$attrs)),null,16)),(0,n.wy)((0,n.Wm)(r,(0,n.dG)({class:"suffix_btn"},e.getBtnOptions,{onClick:e.getBtnOptions.click}),{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.getBtnOptions.text),1)])),_:1},16,["onClick"]),[[i.F8,e.isShow]])],64)}],["__scopeId","data-v-7aadc990"]]),N=(0,n.aZ)({__name:"IncludeForm",props:{formProps:{type:Object,default:()=>({})},submit:{type:Function},valueChange:{type:Function}},setup(e){const t=e,[a,{}]=Zt(t.formProps),{submit:l,valueChange:o}=toRefs(t);return(e,i)=>{const d=(0,n.up)("BaseForm");return(0,n.wg)(),(0,n.j4)(d,{onRegister:(0,s.SU)(a),schemas:t.formProps.schemas,onSubmit:(0,s.SU)(l),onFieldValueChange:(0,s.SU)(o)},null,8,["onRegister","schemas","onSubmit","onFieldValueChange"])}}});var X=a(56032),K={};K.styleTagTransform=H(),K.setAttributes=j(),K.insert=Z().bind(null,"head"),K.domAPI=L(),K.insertStyleElement=I(),C()(X.Z,K),X.Z&&X.Z.locals&&X.Z.locals;const Y=(0,E.Z)(N,[["__scopeId","data-v-deb147f2"]]);var J=a(79751),Q=a(27484),ee=a.n(Q),te=a(24206),ae=a(1869),ne=a(14068);const se={key:0,class:"detail"},le={key:1},oe={class:"primary"},ie={class:"text_comment"},de={key:2},re={class:"primary"},ce={class:"text_comment"},ue={key:3},pe={class:"primary"},fe={class:"text_comment"},me={key:4},ve={class:"primary"},he={class:"text_comment"},be={key:5,class:"senior_config"},ye={class:"content left"},ge={class:"content right"},we=(0,n.aZ)({__name:"ExecTimeConfig",props:{timeConfig:{},disabled:{type:Boolean}},emits:["update"],setup(e,{emit:t}){const a=e,o=(0,ae.E)(),{t:i}=(0,te.QT)(),d=[{value:"1",label:i("cd60126447a6f69bd306a63e4de6e43c8d171bdbf4304edeee684a2272aa13af")},{value:"2",label:i("cd60126447a6f69bd306a63e4de6e43c6a409f38bcdc46a67043db4eacff3017")},{value:"3",label:i("cd60126447a6f69bd306a63e4de6e43c299bcf035885ab50d1ab6314816624cd")},{value:"4",label:i("cd60126447a6f69bd306a63e4de6e43cb09bd124f9bc3355d36209badccbf3c9")},{value:"5",label:i("cd60126447a6f69bd306a63e4de6e43c4e419cf2b46620323e0e867439357cfd")},{value:"6",label:i("cd60126447a6f69bd306a63e4de6e43ca8f2613b9bbb454afae609906a63e3fe")},{value:"7",label:i("cd60126447a6f69bd306a63e4de6e43c23b8128b841dffe509d8bcec084b95c8")}],r={1:i("cd60126447a6f69bd306a63e4de6e43c8d171bdbf4304edeee684a2272aa13af"),2:i("cd60126447a6f69bd306a63e4de6e43c6a409f38bcdc46a67043db4eacff3017"),3:i("cd60126447a6f69bd306a63e4de6e43c299bcf035885ab50d1ab6314816624cd"),4:i("cd60126447a6f69bd306a63e4de6e43cb09bd124f9bc3355d36209badccbf3c9"),5:i("cd60126447a6f69bd306a63e4de6e43c4e419cf2b46620323e0e867439357cfd"),6:i("cd60126447a6f69bd306a63e4de6e43ca8f2613b9bbb454afae609906a63e3fe"),7:i("cd60126447a6f69bd306a63e4de6e43c23b8128b841dffe509d8bcec084b95c8")},c={mode:"multiple",maxTagCount:1},u=computed((()=>a.timeConfig)),p=ref(0),f=ref([]);let m=unref(a.timeConfig.seniorstr);m&&(f.value=m.split(";").map((e=>(p.value++,(e=>{const t=e.slice(0,2),a=e.split("#");a.shift();let n="";switch(t){case"1@":n=`${i("task.per2")}${"en"===o.getLocale?` ${a[1].split("/")[1]} `:a[1].split("/")[1]}${i("task.perDay")}${"en"===o.getLocale&&a[1].split("/")[1]>1?"s":""}`;break;case"2@":n=`${i("task.per2")}${"en"===o.getLocale?` ${a[3].split("/")[1]} `:a[3].split("/")[1]}${i("task.perWeek")}${"en"===o.getLocale&&a[3].split("/")[1]>1?"s":""} ${a[2].split(",").map((e=>r[e])).join("zh"===o.getLocale?",":"/")}`;break;case"3@":n=`${i("task.per2")}${"en"===o.getLocale?` ${a[4].split("/")[1]} `:a[4].split("/")[1]}${i("task.perMonth1")}${"en"===o.getLocale&&a[4].split("/")[1]>1?"s":""} ${a[1].split(",").map((e=>`${b(e)}${i("task.perDay1")}`)).join(",")}`;break;case"4@":n=`${i("task.per2")}${"en"===o.getLocale?` ${a[4].split("/")[1]} `:a[4].split("/")[1]}${i("task.perMonth1")}${"en"===o.getLocale&&a[4].split("/")[1]>1?"s":""} ${a[3].split(",").map((e=>"zh"===o.getLocale?`第${e}个`:b(e))).join(",")} ${a[2].split(",").map((e=>r[e])).join("zh"===o.getLocale?",":"/")}`}return{key:p.value,label:n,timePre:a[0],value:e}})(e)))));const v=reactive({everyDayPre:"1",everyDayTime:"00:00",everyWeekPre:"1",everyWeek:["1"],everyWeekTime:"00:00",everyMonthPre:"1",everyMonthDate:["1"],everyMonthTime:"00:00",everyMonthByWeekPre:"1",everyMonthByWeekTime:"00:00",everyMonthWeekPre:["1"],everyMonthWeek:["1"]}),h=e=>{const t={senior:12,week:7,month:31,weekPre:5};let a=[],n=1;for(;n<=t[e];)a.push({label:"senior"==e?n:b(n.toString()),value:n.toString()}),n++;return a};function b(e){let t=e;if("en"===(o.getLocale||"zh"))switch(e.slice(-1)){case"1":t=11==e?` ${e}th `:` ${e}st `;break;case"2":t=12==e?` ${e}th `:` ${e}nd `;break;case"3":t=13==e?` ${e}th `:` ${e}rd `;break;default:t=` ${e}th `}return t}function y(e){let t="";switch(e){case"day":t=v.everyDayTime.toString();break;case"week":t=v.everyWeekTime.toString();break;case"month":t=v.everyMonthTime.toString();break;case"monthForWeek":t=v.everyMonthByWeekTime.toString()}p.value++,f.value.push({key:p.value,label:w(e),timePre:t,value:g(e)})}function g(e){return{day:`1@day#${v.everyDayTime}#*/${v.everyDayPre}#*#*#*`,week:`2@week#${v.everyWeekTime}#*#${v.everyWeek.join(",")}#*/${v.everyWeekPre}#*`,month:`3@day#${v.everyMonthTime}#${v.everyMonthDate.join(",")}#*#*#*/${v.everyMonthPre}`,monthForWeek:`4@week#${v.everyMonthByWeekTime}#*#${v.everyMonthWeek.join(",")}#${v.everyMonthWeekPre.join(",")}#*/${v.everyMonthByWeekPre}`}[e]}function w(e){return{day:`${i("task.per2")}${"en"===o.getLocale?` ${v.everyDayPre} `:v.everyDayPre}${i("task.perDay")}${"en"===o.getLocale&&v.everyDayPre>1?"s":""}`,week:`${i("task.per2")}${"en"===o.getLocale?` ${v.everyWeekPre} `:v.everyWeekPre}${i("task.perWeek")}${"en"===o.getLocale&&v.everyWeekPre>1?"s":""} ${v.everyWeek.map((e=>r[e])).join("zh"===o.getLocale?",":"/")}`,month:`${i("task.per2")}${"en"===o.getLocale?` ${v.everyMonthPre} `:v.everyMonthPre}${i("task.perMonth1")}${"en"===o.getLocale&&v.everyMonthPre>1?"s":""} ${v.everyMonthDate.map((e=>`${b(e)}${i("task.perDay1")}`)).join(",")}`,monthForWeek:`${i("task.per2")}${"en"===o.getLocale?` ${v.everyMonthByWeekPre} `:v.everyMonthByWeekPre}${i("task.perMonth1")}${"en"===o.getLocale&&v.everyMonthByWeekPre>1?"s":""} ${v.everyMonthWeekPre.map((e=>"zh"===o.getLocale?`第${e}个`:b(e))).join(",")} ${v.everyMonthWeek.map((e=>r[e])).join("zh"===o.getLocale?",":"/")}`}[e]}async function _(e){if(console.log(e),"timing"==e){const{data:e}=await ne.h.get({url:"/interface/om_data_operation/status_time"});t("update",{...a.timeConfig,exec_timing_date:ee()(new Date(new Date(e.cur_time_sec).getTime()+1e4)).format("YYYY-MM-DD HH:mm:ss"),seniorstr:0!==unref(f).length?`${unref(f).map((e=>e.value)).join(";")}`:""})}}return watch((()=>f),(e=>{t("update",{...a.timeConfig,seniorstr:0!==unref(e).length?`${unref(e).map((e=>e.value)).join(";")}`:""})}),{deep:!0}),(e,r)=>{const p=(0,n.up)("a-select-option"),m=(0,n.up)("a-select"),b=(0,n.up)("a-date-picker"),g=(0,n.up)("a-time-picker"),w=(0,n.up)("Icon"),k=(0,n.up)("a-button");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(m,{value:(0,s.SU)(u).exec,"onUpdate:value":r[0]||(r[0]=e=>(0,s.SU)(u).exec=e),onChange:_,disabled:a.disabled},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{value:"immediate"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c11eaea44c6f7acbac563caac453686418fab0c1e6b3e0d6529422cc13baf37d4")),1)])),_:1}),(0,n.Wm)(p,{value:"timing"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c66a3983584a54200cbcef20efedef4c47b81f6ddc775ef2b7fd2e706e12d9bf2")),1)])),_:1}),(0,n.Wm)(p,{value:"everyday"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c7f1444f82b72c3a8f4adf71e06529fc2edb156a8d59b21c7e9613299a23c2e60")),1)])),_:1}),(0,n.Wm)(p,{value:"everyweek"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43ccc9187b50664e59aace6a9503cdad318ba0b78cb8d3a026a0df13a345aa13232")),1)])),_:1}),(0,n.Wm)(p,{value:"emonthdate"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c5253f6f409787e3e335ab4bbe398a4fa7c2b58d922e93e8fa9d6508a3f62d40b")),1)])),_:1}),(0,n.Wm)(p,{value:"emonthweek"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c5253f6f409787e3e335ab4bbe398a4fa3be41e0983b971185a28d4141f6e8539")),1)])),_:1}),(0,n.Wm)(p,{value:"senior"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c6670560fe71c38300b0309a1c4e1660332f7d0173e82bdbe647c395f67dcb7db")),1)])),_:1})])),_:1},8,["value","disabled"]),"immediate"!==(0,s.SU)(u).exec?((0,n.wg)(),(0,n.iD)("div",se,["timing"==(0,s.SU)(u).exec?((0,n.wg)(),(0,n.j4)(b,{key:0,disabled:a.disabled,value:(0,s.SU)(u).exec_timing_date,"onUpdate:value":r[1]||(r[1]=e=>(0,s.SU)(u).exec_timing_date=e),showTime:!0,showNow:!1,inputReadOnly:!0,format:"YYYY-MM-DD HH:mm:ss",valueFormat:"YYYY-MM-DD HH:mm:ss"},null,8,["disabled","value"])):(0,n.kq)("v-if",!0),"everyday"==(0,s.SU)(u).exec?((0,n.wg)(),(0,n.iD)("div",le,[(0,n._)("div",oe,[(0,n.Wm)(g,{disabled:a.disabled,value:(0,s.SU)(u).exec_everyday_time,"onUpdate:value":r[2]||(r[2]=e=>(0,s.SU)(u).exec_everyday_time=e),showNow:!1,inputReadOnly:!0,format:"HH:mm",valueFormat:"HH:mm"},null,8,["disabled","value"])]),(0,n._)("span",ie,(0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c2a1440b540d0c5508804e17c0b46f7d0")),1)])):(0,n.kq)("v-if",!0),"everyweek"==(0,s.SU)(u).exec?((0,n.wg)(),(0,n.iD)("div",de,[(0,n._)("div",re,[(0,n.Wm)(m,{value:(0,s.SU)(u).exec_everyweek_day,"onUpdate:value":r[3]||(r[3]=e=>(0,s.SU)(u).exec_everyweek_day=e),options:d,disabled:a.disabled},null,8,["value","disabled"]),(0,n.Wm)(g,{disabled:a.disabled,value:(0,s.SU)(u).exec_everyweek_time,"onUpdate:value":r[4]||(r[4]=e=>(0,s.SU)(u).exec_everyweek_time=e),showNow:!1,inputReadOnly:!0,format:"HH:mm",valueFormat:"HH:mm"},null,8,["disabled","value"])]),(0,n._)("span",ce,(0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c2a1440b540d0c5508804e17c0b46f7d0")),1)])):(0,n.kq)("v-if",!0),"emonthdate"==(0,s.SU)(u).exec?((0,n.wg)(),(0,n.iD)("div",ue,[(0,n._)("div",pe,[(0,n.Uk)((0,l.zw)((0,s.SU)(i)("task.perMonth"))+" ",1),(0,n.Wm)(m,{disabled:a.disabled,value:(0,s.SU)(u).exec_emonthdate_day,"onUpdate:value":r[5]||(r[5]=e=>(0,s.SU)(u).exec_emonthdate_day=e),options:h("month")},null,8,["disabled","value","options"]),(0,n.Uk)(" "+(0,l.zw)((0,s.SU)(i)("task.day"))+" ",1),(0,n.Wm)(g,{disabled:a.disabled,value:(0,s.SU)(u).exec_emonthdate_time,"onUpdate:value":r[6]||(r[6]=e=>(0,s.SU)(u).exec_emonthdate_time=e),showNow:!1,inputReadOnly:!0,format:"HH:mm",valueFormat:"HH:mm"},null,8,["disabled","value"])]),(0,n._)("span",fe,(0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c2a1440b540d0c5508804e17c0b46f7d0")),1)])):(0,n.kq)("v-if",!0),"emonthweek"==(0,s.SU)(u).exec?((0,n.wg)(),(0,n.iD)("div",me,[(0,n._)("div",ve,[(0,n.Uk)((0,l.zw)("zh"===(0,s.SU)(o).getLocale?"第":"")+" ",1),(0,n.Wm)(m,{disabled:a.disabled,value:(0,s.SU)(u).exec_emonthweek_pre,"onUpdate:value":r[7]||(r[7]=e=>(0,s.SU)(u).exec_emonthweek_pre=e),options:h("weekPre")},null,8,["disabled","value","options"]),(0,n.Uk)(" "+(0,l.zw)("zh"===(0,s.SU)(o).getLocale?"个":"")+" ",1),(0,n.Wm)(m,{value:(0,s.SU)(u).exec_emonthweek_day,"onUpdate:value":r[8]||(r[8]=e=>(0,s.SU)(u).exec_emonthweek_day=e),options:d,disabled:a.disabled},null,8,["value","disabled"]),(0,n.Uk)(" "+(0,l.zw)("zh"===(0,s.SU)(o).getLocale?"的":"")+" ",1),(0,n.Wm)(g,{disabled:a.disabled,value:(0,s.SU)(u).exec_emonthweek_time,"onUpdate:value":r[9]||(r[9]=e=>(0,s.SU)(u).exec_emonthweek_time=e),showNow:!1,inputReadOnly:!0,format:"HH:mm",valueFormat:"HH:mm"},null,8,["disabled","value"])]),(0,n._)("span",he,(0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c2a1440b540d0c5508804e17c0b46f7d0")),1)])):(0,n.kq)("v-if",!0),"senior"==(0,s.SU)(u).exec?((0,n.wg)(),(0,n.iD)("div",be,[(0,n._)("div",ye,[(0,n._)("p",null,(0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c223499c92947c9846aea011daef172e26775f48fce021dbecdb136836672e366")),1),(0,n._)("div",null,[(0,n.Uk)((0,l.zw)(e.$t("task.per1"))+" ",1),(0,n.Wm)(m,{disabled:a.disabled,options:h("senior"),value:(0,s.SU)(v).everyDayPre,"onUpdate:value":r[10]||(r[10]=e=>(0,s.SU)(v).everyDayPre=e)},null,8,["disabled","options","value"]),(0,n.Uk)(" "+(0,l.zw)(`${e.$t("task.perDay")}${"en"===(0,s.SU)(o).getLocale&&(0,s.SU)(v).everyDayPre>1?"s":""}`)+" ",1),(0,n.Wm)(g,{format:"HH:mm",valueFormat:"HH:mm",showNow:!1,inputReadOnly:!0,disabled:a.disabled,value:(0,s.SU)(v).everyDayTime,"onUpdate:value":r[11]||(r[11]=e=>(0,s.SU)(v).everyDayTime=e)},null,8,["disabled","value"]),(0,n.Wm)(k,{type:"link",onClick:r[12]||(r[12]=e=>y("day")),disabled:a.disabled},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{icon:"ant-design:plus-circle-filled",color:"#55A722",class:"addIcon"}),(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43cb0235e9c906c0492c37ce0a369700114")),1)])),_:1},8,["disabled"])]),(0,n._)("div",null,[(0,n.Uk)((0,l.zw)(e.$t("task.per1"))+" ",1),(0,n.Wm)(m,{disabled:a.disabled,options:h("senior"),value:(0,s.SU)(v).everyWeekPre,"onUpdate:value":r[13]||(r[13]=e=>(0,s.SU)(v).everyWeekPre=e)},null,8,["disabled","options","value"]),(0,n.Uk)(" "+(0,l.zw)(`${e.$t("task.perWeek")}${"en"===(0,s.SU)(o).getLocale&&(0,s.SU)(v).everyWeekPre>1?"s":""}`)+" ",1),(0,n.Wm)(m,(0,n.dG)({disabled:a.disabled,options:d},c,{value:(0,s.SU)(v).everyWeek,"onUpdate:value":r[14]||(r[14]=e=>(0,s.SU)(v).everyWeek=e)}),null,16,["disabled","value"]),(0,n.Wm)(g,{disabled:a.disabled,value:(0,s.SU)(v).everyWeekTime,"onUpdate:value":r[15]||(r[15]=e=>(0,s.SU)(v).everyWeekTime=e),showNow:!1,inputReadOnly:!0,format:"HH:mm",valueFormat:"HH:mm"},null,8,["disabled","value"]),(0,n.Wm)(k,{type:"link",onClick:r[16]||(r[16]=e=>y("week")),disabled:a.disabled},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{icon:"ant-design:plus-circle-filled",color:"#55A722",class:"addIcon"}),(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43cb0235e9c906c0492c37ce0a369700114")),1)])),_:1},8,["disabled"])]),(0,n._)("div",null,[(0,n.Uk)((0,l.zw)(e.$t("task.per1"))+" ",1),(0,n.Wm)(m,{disabled:a.disabled,options:h("senior"),value:(0,s.SU)(v).everyMonthPre,"onUpdate:value":r[17]||(r[17]=e=>(0,s.SU)(v).everyMonthPre=e)},null,8,["disabled","options","value"]),(0,n.Uk)(" "+(0,l.zw)(`${e.$t("task.perMonth1")}${"en"===(0,s.SU)(o).getLocale&&(0,s.SU)(v).everyMonthPre>1?"s":""}`)+" ",1),(0,n.Wm)(m,(0,n.dG)({disabled:a.disabled,options:h("month")},c,{value:(0,s.SU)(v).everyMonthDate,"onUpdate:value":r[18]||(r[18]=e=>(0,s.SU)(v).everyMonthDate=e)}),null,16,["disabled","options","value"]),(0,n.Uk)(" "+(0,l.zw)(e.$t("task.perDay1"))+" ",1),(0,n.Wm)(g,{disabled:a.disabled,value:(0,s.SU)(v).everyMonthTime,"onUpdate:value":r[19]||(r[19]=e=>(0,s.SU)(v).everyMonthTime=e),showNow:!1,inputReadOnly:!0,format:"HH:mm",valueFormat:"HH:mm"},null,8,["disabled","value"]),(0,n.Wm)(k,{type:"link",onClick:r[20]||(r[20]=e=>y("month")),disabled:a.disabled},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{icon:"ant-design:plus-circle-filled",color:"#55A722",class:"addIcon"}),(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43cb0235e9c906c0492c37ce0a369700114")),1)])),_:1},8,["disabled"])]),(0,n._)("div",null,[(0,n.Uk)((0,l.zw)(e.$t("task.per1"))+" ",1),(0,n.Wm)(m,{disabled:a.disabled,options:h("senior"),value:(0,s.SU)(v).everyMonthByWeekPre,"onUpdate:value":r[21]||(r[21]=e=>(0,s.SU)(v).everyMonthByWeekPre=e)},null,8,["disabled","options","value"]),(0,n.Uk)(" "+(0,l.zw)(`${e.$t("task.perMonth2")}${"en"===(0,s.SU)(o).getLocale&&(0,s.SU)(v).everyMonthByWeekPre>1?"s":""}`)+" ",1),(0,n.Wm)(m,(0,n.dG)({disabled:a.disabled,options:h("weekPre")},c,{value:(0,s.SU)(v).everyMonthWeekPre,"onUpdate:value":r[22]||(r[22]=e=>(0,s.SU)(v).everyMonthWeekPre=e)}),null,16,["disabled","options","value"]),(0,n.Uk)(" "+(0,l.zw)("zh"===(0,s.SU)(o).getLocale?"个":"")+" ",1),(0,n.Wm)(m,(0,n.dG)({disabled:a.disabled,options:d},c,{value:(0,s.SU)(v).everyMonthWeek,"onUpdate:value":r[23]||(r[23]=e=>(0,s.SU)(v).everyMonthWeek=e)}),null,16,["disabled","value"]),(0,n.Wm)(g,{disabled:a.disabled,value:(0,s.SU)(v).everyMonthByWeekTime,"onUpdate:value":r[24]||(r[24]=e=>(0,s.SU)(v).everyMonthByWeekTime=e),showNow:!1,inputReadOnly:!0,format:"HH:mm",valueFormat:"HH:mm"},null,8,["disabled","value"]),(0,n.Wm)(k,{type:"link",onClick:r[25]||(r[25]=e=>y("monthForWeek")),disabled:a.disabled},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{icon:"ant-design:plus-circle-filled",color:"#55A722",class:"addIcon"}),(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43cb0235e9c906c0492c37ce0a369700114")),1)])),_:1},8,["disabled"])])]),(0,n._)("div",ge,[(0,n._)("p",null,[(0,n._)("span",null,(0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43cb2a138ce80341b72472f871cfa10361f")),1),(0,n.Wm)(k,{danger:"",type:"link",onClick:r[26]||(r[26]=e=>(f.value=[],void t("update",{...a.timeConfig,seniorstr:""}))),disabled:a.disabled},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43cc124e33535623bafed997de667e3056c")),1)])),_:1},8,["disabled"])]),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,s.SU)(f),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"result",key:e.key},[(0,n._)("span",null,(0,l.zw)(e.label),1),(0,n._)("span",null,(0,l.zw)(e.timePre),1),(0,n.Wm)(k,{danger:"",type:"link",onClick:t=>{return a=e.key,void(f.value=f.value.filter((e=>e.key!==a)));var a},class:"delBtn",disabled:a.disabled},{icon:(0,n.w5)((()=>[(0,n.Wm)((0,s.SU)(J.Z))])),_:2},1032,["onClick","disabled"])])))),128))])])])):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0)])}}});var _e=a(8357),ke={};ke.styleTagTransform=H(),ke.setAttributes=j(),ke.insert=Z().bind(null,"head"),ke.domAPI=L(),ke.insertStyleElement=I(),C()(_e.Z,ke),_e.Z&&_e.Z.locals&&_e.Z.locals;const Se=(0,E.Z)(we,[["__scopeId","data-v-4c44ecde"]]),Ue=e=>ne.h.get({url:`/interface/assets/view/tree/viewType/${e.viewType}/assetsType/${e.assetsType}/pid/${e.pid}/isdashboard/${e.isdashboard}`,params:e}),xe=e=>ne.h.get({url:"/interface/assets/node/getAssets",params:e});var Te=a(18036),Pe=a(59305),De=a(94116);const{t:Ae}=A.i18n.global,We={pwd_interval:0,pwd_num:"0",pwd_threadnum:"5",pwd_timeout:"5",smb:{checked:"yes",mode:"c",pass:"smb_pass.default",portList:"139,445",type:"smb",user:"smb_user.default",userpass:"smb_userpass.default"},telnet:{checked:"yes",mode:"c",pass:"telnet_pass.default",portList:"23",type:"telnet",user:"telnet_user.default",userpass:"telnet_userpass.default"},ssh:{checked:"yes",mode:"c",pass:"ssh_pass.default",portList:"22",type:"ssh",user:"ssh_user.default",userpass:"ssh_userpass.default"}},Me=(0,Pe.Q_)({id:"task",state:()=>({taskTypeCardListData:[{title:Ae("task.taskTitle_vulTask"),taskTypeName:"vul_task",desc:"评估任务描述",iconUrl:"vul_task",permissionStr:"task_vul",permission:1},{title:Ae("task.taskTitle_guessTask"),taskTypeName:"guess_task",desc:"口令猜测任务描述",iconUrl:"guess_task",permissionStr:"task_guess",permission:1},{title:Ae("task.taskTitle_webScan"),taskTypeName:"web_scan",desc:"Web应用扫描描述",iconUrl:"web_scan",permissionStr:"task_web_scan",permission:1},{title:Ae("task.taskTitle_vulConfig"),taskTypeName:"vul_config",desc:"配置扫描描述",iconUrl:"vul_config",permissionStr:"task_vul_config",permission:1},{title:Ae("task.taskTitle_imageTask"),taskTypeName:"image_task",desc:"镜像扫描描述",checkMsg:"",iconUrl:"image_task",permissionStr:"task_image",permission:1},{title:Ae("task.taskTitle_codeAudit"),taskTypeName:"code_audit",desc:"代码审计描述",checkMsg:"",iconUrl:"code_audit",permissionStr:"task_code_audit",permission:1},{title:Ae("task.taskTitle_hostAssetsScan"),taskTypeName:"host_assets",desc:"主机资产探测描述",iconUrl:"host_assets",permissionStr:"task_host_assets",permission:1,isHot:!0},{title:Ae("task.taskTitle_webAssetsScan"),taskTypeName:"web_assets",desc:"Web资产探测描述",iconUrl:"web_assets",permissionStr:"task_web_assets",permission:1,isHot:!0}],showLoginModalState:!1,loginArrayData:{loginarray:[],login_check_type:"login_check_type_vul",bvs_check_type:"bvs_check_type_standard"},showReportTplModalState:{taskType:"system",reoprtType:"summary",show:!1},showVulnTplModalState:{type:"system",show:!1},showGuessModalState:!1,showAuthModalState:!1,showFTPModalState:!1,AuthModalKey:0,guessConfigData:(0,d.p$)(We),curAuthData:{},guessUserList:[],guessPassList:[],guessUserPassList:[],exec_range_num:0,un_exec_range_num:0,targetIp:"",selectTplState:{rplStat:0,vulnStat:0,statusStat:0},modalKey:{guessModal:0},curPolicy:-1,curHistoryTask:-1,curStatus:"task",modalWidth:1100,loadingOpt:{status:!1,tip:"加载中..."}}),getters:{getTaskTypeCardListData(){return this.taskTypeCardListData},getLoginModalState(){return this.showLoginModalState},getLoginArrayData(){return this.loginArrayData},getReportTplModalState(){return this.showReportTplModalState},getVulnTplModalState(){return this.showVulnTplModalState},getGuessModalState(){return this.showGuessModalState},getAuthModalState(){return this.showAuthModalState},getFTPModalState(){return this.showFTPModalState},getAuthModalKey(){return this.AuthModalKey},getGuessConfigData(){return this.guessConfigData},getCurAuthData(){return this.curAuthData},getGuessUserList(){return this.guessUserList},getGuessPassList(){return this.guessPassList},getGuessUserPassList(){return this.guessUserPassList},getExecRangeNum(){return this.exec_range_num},getUnExecRangeNum(){return this.un_exec_range_num},getTargetIp(){return this.targetIp},getTplDataState(){return this.selectTplState},getModalKey(){return this.modalKey},getCurPolicy(){return this.curPolicy},getCurHistoryTask(){return this.curHistoryTask},getCurStatus(){return this.curStatus},getModalWidth(){return this.modalWidth},getLoadingOpt(){return this.loadingOpt}},actions:{setLoginModalState(e){this.showLoginModalState=e},setLoginArrayData(e){this.loginArrayData=e},setReportTplModalState(e){this.showReportTplModalState=e},setVulnTplModalState(e){this.showVulnTplModalState=e},setGuessModalState(e){this.showGuessModalState=e},setAuthModalState(e){this.showAuthModalState=e},setFTPModalState(e){this.showFTPModalState=e},setAuthModalKey(e){this.AuthModalKey=e},setGuessConfigData(e){this.guessConfigData=e},setCurAuthData(e){this.curAuthData=e},setGuessUserList(e){this.guessUserList=e},setGuessPassList(e){this.guessPassList=e},setGuessUserPassList(e){this.guessUserPassList=e},setExecRangeNum(e){this.exec_range_num=e},setUnExecRangeNum(e){this.un_exec_range_num=e},setTargetIp(e){this.targetIp=e},updateTplDataStats(e){this.selectTplState[e]++},updateModalKey(e){this.modalKey[e]++},setCurPolicy(e){this.curPolicy=e},setCurHistoryTask(e){this.curHistoryTask=e},setCurStatus(e){this.curStatus=e},setModalWidth(e){this.modalWidth=e},setLoadingOpt(e){this.loadingOpt=e},setTaskPerimission(e){this.taskTypeCardListData=this.taskTypeCardListData.map((t=>({...t,permission:void 0===e[t.permissionStr||""]?1:e[t.permissionStr||""]})))},resetState(){this.showLoginModalState=!1,this.loginArrayData={loginarray:[],login_check_type:"login_check_type_vul",bvs_check_type:"bvs_check_type_standard"},this.targetIp="",this.showReportTplModalState={taskType:"system",reoprtType:"summary",show:!1},this.showVulnTplModalState={type:"system",show:!1},this.showGuessModalState=!1,this.showAuthModalState=!1,this.showFTPModalState=!1,this.guessConfigData=We,this.curAuthData={},this.AuthModalKey=0,this.exec_range_num=0,this.un_exec_range_num=0,this.loadingOpt={status:!1,tip:"加载中..."}}}}),$e={class:"transferTree"},Ce={class:"left"},Fe={class:"right"},Le={style:{height:"230px"}},Be=(0,n.aZ)({__name:"TransferTree",emits:["change"],setup(e,{emit:t}){const{t:a}=A.i18n.global,o=((0,Te.H)(),Me(De.h)),i={title:"name",key:"id"},d=ref([]),r=ref([]),c=ref([]),u=ref([]);let p=ref([]);const f=ref(!1);function m(e,t){p.value=t.checkedNodes}const v=async e=>{console.log(e);let t=[];if(e.haveChild){const{data:{tree_data:a}}=await Ue({viewType:1,assetsType:"host",pid:e.id,isdashboard:0});a&&(t=a.map((t=>({...t,children:[],isLeaf:!1,haveChild:!t.isLeaf,parentId:e.id}))))}const{data:a}=await xe({nodeId:e.id,viewType:1});t=[...t,...a.assets_info_for_task.map((t=>({...t,name:t.name,isLeaf:!0,id:`node_${e.id}_${t.id}`,parentId:e.id})))],e.dataRef.children=t,c.value=[...c.value]};async function h(){r.value=[],u.value=Array.from(new Set([...u.value,...p.value.filter((e=>!e.children)).map((e=>e.name))])),o.setLoadingOpt({status:!0}),p.value.forEach((e=>{e.isLeaf||async function(e){const{data:t}=await xe({nodeId:e,viewType:1});let a=t.assets_info_for_task;u.value=Array.from(new Set([...u.value,...a.map((e=>e.name))]))}(e.id)})),p.value=[]}return watch(u,(()=>{t("change",u.value)})),async function(){f.value=!0;const{data:{tree_data:e}}=await Ue({viewType:1,assetsType:"host",pid:0,isdashboard:0});f.value=!1,e&&(c.value=e.map((e=>({...e,children:[],isLeaf:!1,haveChild:!e.isLeaf}))))}(),(e,t)=>{const a=(0,n.up)("a-tree"),o=(0,n.up)("a-spin"),b=(0,n.up)("a-button"),y=(0,n.up)("recycle-scroller");return(0,n.wg)(),(0,n.iD)("div",$e,[(0,n._)("div",Ce,[(0,n.Wm)(o,{tip:e.$t("cd60126447a6f69bd306a63e4de6e43caf19d6d2403e2d84540a16849f8cf48dd2952a8ae628277308335333292ee63b"),spinning:(0,s.SU)(f)},{default:(0,n.w5)((()=>[(0,n.Wm)(a,{"field-names":i,selectedKeys:(0,s.SU)(d),"onUpdate:selectedKeys":t[0]||(t[0]=e=>(0,s.dq)(d)?d.value=e:null),checkedKeys:(0,s.SU)(r),"onUpdate:checkedKeys":t[1]||(t[1]=e=>(0,s.dq)(r)?r.value=e:null),checkable:"",height:270,treeData:(0,s.SU)(c),loadData:v,onCheck:m},null,8,["selectedKeys","checkedKeys","treeData"])])),_:1},8,["tip","spinning"])]),(0,n.Wm)(b,{type:"primary",onClick:h,style:{"margin-right":"0"},disabled:0===(0,s.SU)(p).length},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43cb0235e9c906c0492c37ce0a369700114")),1)])),_:1},8,["disabled"]),(0,n._)("div",Fe,[(0,n._)("p",null,[(0,n._)("span",null,[(0,n._)("span",null,(0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43ce18ad01fc5d5c63bc10d285f00076f1d")),1),(0,n._)("span",null,(0,l.zw)((0,s.SU)(u).length),1),(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43c6aa922f8850f2465e5a9f2ff46ed037e")),1)]),(0,n.Wm)(b,{danger:"",type:"link",onClick:t[2]||(t[2]=e=>{u.value=[]})},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43cc124e33535623bafed997de667e3056c")),1)])),_:1})]),(0,n._)("div",Le,[(0,n.Wm)(y,{class:"",buffer:800,prerender:200,style:{height:"100%"},"item-size":30,items:(0,s.SU)(u)},{default:(0,n.w5)((({item:e})=>[((0,n.wg)(),(0,n.iD)("div",{class:"result",key:e},[(0,n._)("span",null,(0,l.zw)(e),1),(0,n.Wm)(b,{type:"link",onClick:t=>{return a=e,void(u.value=u.value.filter((e=>e!==a)));var a},class:"delBtn"},{icon:(0,n.w5)((()=>[(0,n.Wm)((0,s.SU)(J.Z))])),_:2},1032,["onClick"])]))])),_:1},8,["items"])])])])}}});var Ze=a(27218),Oe={};Oe.styleTagTransform=H(),Oe.setAttributes=j(),Oe.insert=Z().bind(null,"head"),Oe.domAPI=L(),Oe.insertStyleElement=I(),C()(Ze.Z,Oe),Ze.Z&&Ze.Z.locals&&Ze.Z.locals;const je=(0,E.Z)(Be,[["__scopeId","data-v-2ea5b0aa"]]);var ze=a(74324);const Ie=(0,n.aZ)({__name:"ApiSelect",props:{api:{type:Function},params:{},state:{},tplDataState:{},defaultOptions:{}},emits:["options-change","update"],setup(e,{emit:t}){const a=e,i=useAttrs(),d=ref(!1),r=ref(a.defaultOptions||[]),c=ref(""),u=computed((()=>a.state||c));async function p(){const e=a.api;if(e&&(0,o.mf)(e)){r.value=a.defaultOptions||[];try{d.value=!0;const{data:l}=await e(a.params);var n,s;if(Array.isArray(l))return r.value=a.dafaultOptions?[...a.dafaultOptions,...l]:l,l.length>0&&(c.value=(null===(n=r.value[0])||void 0===n?void 0:n.value)||(null===(s=r.value[0])||void 0===s||null===(s=s.options[0])||void 0===s?void 0:s.value)),void t("options-change",unref(r))}catch(e){console.log(e)}finally{d.value=!1}}}return watch((()=>u),(e=>{t("update",unref(e))}),{deep:!0}),watch((()=>a.tplDataState),(()=>{p()})),p(),(e,t)=>{const a=(0,n.up)("a-select");return(0,n.wg)(),(0,n.j4)(a,(0,n.dG)((0,s.SU)(i),{options:(0,s.SU)(r),value:(0,s.SU)(u),"onUpdate:value":t[0]||(t[0]=e=>(0,s.dq)(u)?u.value=e:null)}),(0,n.Nv)({_:2},[(0,s.SU)(d)?{name:"suffixIcon",fn:(0,n.w5)((()=>[(0,n.Wm)((0,s.SU)(ze.Z),{spin:""})])),key:"0"}:void 0,(0,s.SU)(d)?{name:"notFoundContent",fn:(0,n.w5)((()=>[(0,n._)("span",null,[(0,n.Wm)((0,s.SU)(ze.Z),{spin:""}),(0,n.Uk)((0,l.zw)(e.$t("cd60126447a6f69bd306a63e4de6e43cf12779588292eb3ded08ede0e2f4cda1aede846fd2da41e330e3feac7c2c45ae")),1)])])),key:"1"}:void 0]),1040,["options","value"])}}});var Re=a(43419),He={};He.styleTagTransform=H(),He.setAttributes=j(),He.insert=Z().bind(null,"head"),He.domAPI=L(),He.insertStyleElement=I(),C()(Re.Z,He),Re.Z&&Re.Z.locals&&Re.Z.locals;const Ve=q,Ge=Y,Ee=Se,qe=je,Ne=(0,E.Z)(Ie,[["__scopeId","data-v-43b3ba48"]]),Xe=new Map;Xe.set("Input",f.ZP),Xe.set("Textarea",m.Z),Xe.set("InputNumber",v.Z),Xe.set("Select",b.ZP),Xe.set("ApiSelect",Ne),Xe.set("Radio",y.ZP),Xe.set("RadioGroup",g.Z),Xe.set("CheckboxGroup",w.Z),Xe.set("Switch",_.ZP),Xe.set("Checkbox",k.ZP),Xe.set("Cascader",S.Z),Xe.set("DatePicker",U.ZP),Xe.set("DateRangePicker",U.ZP.RangePicker),Xe.set("TimePicker",x.ZP),Xe.set("TimeRangePicker",T.Xc),Xe.set("TreeSelect",P.ZP),Xe.set("Divider",c.Z),Xe.set("CompWithsuffixBtn",Ve),Xe.set("IncludeForm",Ge),Xe.set("Upload",D.Z),Xe.set("ExecTimeConfig",Ee),Xe.set("TransferTree",qe);var Ke=a(40904),Ye=a(63765);const Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var Qe=a(4220);function et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){tt(e,t,a[t])}))}return e}function tt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var at=function(e,t){var a=et({},e,t.attrs);return(0,n.Wm)(Qe.Z,et({},a,{icon:Je}),null)};at.displayName="QuestionCircleOutlined",at.inheritAttrs=!1;const nt=at,{t:st}=A.i18n.global,lt={showIndex:{type:Boolean},color:{type:String,default:"#ffffff"},fontSize:{type:String,default:"14px"},placement:{type:String,default:"right"},text:{type:[Array,String]},maxWidth:{type:String,default:"600px"},type:{type:String,default:"question"},contentStyle:{type:Object,default:{width:"14px",height:"14px",color:"#535353"}}},ot=(0,n.aZ)({name:"BasicHelp",props:lt,setup(e,{slots:t}){const a=(0,n.Fl)((()=>({color:e.color,fontSize:e.fontSize}))),l=(0,n.Fl)((()=>({maxWidth:e.maxWidth})));function i(){const t=e.text;return(0,o.HD)(t)?(0,n.Wm)("p",{class:"p_text"},[t]):(0,o.kJ)(t)?t.map(((t,a)=>(0,n.Wm)("p",{class:"p_text",key:t},[e.showIndex?`${a+1}. `:"",t]))):null}return()=>(0,n.Wm)(Ke.Z,{overlayStyle:(0,s.SU)(l),title:(0,n.Wm)("div",{style:(0,s.SU)(a)},[i()]),placement:e.placement},{default:()=>[(0,n.Wm)("span",{class:"content",style:e.contentStyle},[(0,d.z9)(t)||("info"==e.type?(0,n.Wm)(Ye.Z,null,null):(0,n.Wm)(nt,null,null))])]})}});var it=a(62354),dt={};dt.styleTagTransform=H(),dt.setAttributes=j(),dt.insert=Z().bind(null,"head"),dt.domAPI=L(),dt.insertStyleElement=I(),C()(it.Z,dt),it.Z&&it.Z.locals&&it.Z.locals;const rt=(0,E.Z)(ot,[["__scopeId","data-v-e1caee1a"]]),ct=(0,d.nz)(rt),{t:ut}=A.i18n.global,pt=["DatePicker","MonthPicker","WeekPicker","TimePicker","RangePicker"];function ft(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,n.lA)(e)}const mt=(0,n.aZ)({name:"BaseFormItem",props:{schema:{type:Object,default:()=>({})},formModel:{type:Object,default:()=>({})},formProps:{type:Object,default:()=>({})},formActionType:{type:Object},setFormModel:{type:Function,default:null},isAdvanced:{type:Boolean}},setup(e,{slots:t}){const a=(0,ae.E)(),{t:l}=(0,te.QT)(),f=(0,n.Fl)((()=>{const{formModel:t,schema:a}=e;return{field:a.field,model:t,values:{formModel:t},schema:a}})),{schema:m,formProps:v}=(0,s.BK)(e),h=(b=m,y=v,(0,n.Fl)((()=>{const e=(0,s.SU)(b),{labelCol:t={},wrapperCol:a={}}=e.itemProps||{},{labelWidth:n,disabledLabelWidth:l}=e,{labelWidth:i,labelCol:d,wrapperCol:r,layout:c}=(0,s.SU)(y);if(!i&&!n&&!d||l)return t.style={textAlign:"left"},{labelCol:t,wrapperCol:a};let u=n||i;const p={...d,...t},f={...r,...a};return u&&(u=(0,o.hj)(u)?`${u}px`:u),{labelCol:{style:{width:u},...p},wrapperCol:{style:{width:"vertical"===c?"100%":`calc(100% - ${u})`},...f}}})));var b,y;const g=(0,n.Fl)((()=>{const{schema:t,formModel:a,formActionType:n}=e;let{componentProps:s={},field:l}=t;var i;return(0,o.mf)(s)&&(s=null!==(i=s({schema:t,formModel:a,formActionType:n}))&&void 0!==i?i:{}),"Divider"===t.component?s=Object.assign({type:"horizontal"},s,{orientation:"left",plain:!0}):"CollapseTitle"===t.component&&(s=Object.assign({onclick:()=>{a[l]=!a[l]}},s)),s})),w=(0,n.Fl)((()=>{const{disabled:t}=e.formProps,{dynamicDisabled:a}=e.schema;let n=!!t;return(0,o.mf)(a)&&(n=a((0,s.SU)(f))),n}));function _(){const{label:t,helpMessage:a,helpProps:l,itemStyle:i}=e.schema,{helpComponentProps:d}=e.formProps,r=(0,o.mf)(a)?a((0,s.SU)(f)):a;if(!a||!r)return(0,n.Wm)("span",null,[t]);const c={text:r,...{...d,...l}};return(0,n.Wm)("span",null,[t,(0,n.Wm)(ct,c,null)])}function k(){const{rules:t=[],component:n,label:i,dynamicRules:r,required:c}=e.schema;if((0,o.mf)(r))return r((0,s.SU)(f));let u=(0,d.p$)(t);const p="zh"===a.getLocale?function(e){return e.includes("Input")||e.includes("Complete")||e.includes("Textarea")?ut("baseForm.please_input"):e.includes("Picker")||e.includes("Select")||e.includes("Cascader")||e.includes("Checkbox")||e.includes("Radio")||e.includes("Switch")?ut("baseForm.please_select"):""}(n)+i:l("custom.cannotEmpty");function m(e,t){const a=e.message||p;return void 0===t||(0,o.Ft)(t)||Array.isArray(t)&&0===t.length||"string"==typeof t&&""===t.trim()||"object"==typeof t&&Reflect.has(t,"checked")&&Reflect.has(t,"halfChecked")&&Array.isArray(t.checked)&&Array.isArray(t.halfChecked)&&0===t.checked.length&&0===t.halfChecked.length?Promise.reject(a):Promise.resolve()}const v=(0,o.mf)(c)?c((0,s.SU)(f)):c;return v&&(u&&0!==u.length?-1===u.findIndex((e=>Reflect.has(e,"required")))&&u.unshift({required:v,validator:m}):u=[{required:v,validator:m}]),u}return()=>{let a;const{isIfShow:l,isShow:m}=function(){const{show:t,ifShow:a}=e.schema,{showAdvancedButton:n}=e.formProps,l=!n||!(0,o.jn)(e.isAdvanced)||e.isAdvanced;let i=!0,d=!0;return(0,o.jn)(t)&&(i=t),(0,o.jn)(a)&&(d=a),(0,o.mf)(t)&&(i=t((0,s.SU)(f))),(0,o.mf)(a)&&(d=a((0,s.SU)(f))),i=i&&l,{isShow:i,isIfShow:d}}(),{colProps:v={},colSlot:b,colStyle:y}=e.schema,{baseColProps:S={}}=e.formProps,U={...S,...v,style:y};return l&&(0,n.wy)((0,n.Wm)(r.Z,U,ft(a=b?(0,d.z9)(t,b,(0,s.SU)(f)):function(){const{field:a,component:l,itemProps:i,slot:m,render:v,suffix:b,itemStyle:y,isColFullByCur:S}=e.schema,{labelCol:U,wrapperCol:x}=(0,s.SU)(h),{colon:T,isColFull:P}=e.formProps,D=!!b,A=(0,o.mf)(b)?b((0,s.SU)(f)):b;if("Divider"==l){let e;return(0,n.Wm)(r.Z,{span:24},{default:()=>[(0,n.Wm)(c.Z,(0,s.SU)(g),ft(e=_())?e:{default:()=>[e]})]})}if("TypeTitle"==l)return(0,n.Wm)(r.Z,{span:24},{default:()=>[(0,n.Wm)("div",(0,n.dG)({class:"typeTitle",style:y||{fontSize:"16px"}},(0,s.SU)(g.value)),[_(),D&&(0,n.Wm)("span",{class:"suffix"},[A])])]});if("CollapseTitle"==l)return(0,n.Wm)(r.Z,{span:24},{default:()=>[(0,n.Wm)("div",(0,n.dG)({class:"collapseTitle"},(0,s.SU)(g)),[(0,n.Wm)(p.Z,{style:e.formModel[a]?"transform: rotate(90deg)":"transform: rotate(270deg)"},null),_(),D&&(0,n.Wm)("span",{class:"suffix"},[A])])]});{const l=()=>m?(0,d.z9)(t,m,(0,s.SU)(f)):v?v((0,s.SU)(f)):function(){const{component:t,changeEvent:a="Change",field:l,valueField:o,itemStyle:i}=e.schema,d=t&&["Switch","Checkbox"].includes(t)||"CompWithsuffixBtn"==t&&["Switch","Checkbox"].includes((0,s.SU)(g).compName),r=`on${a}`,c={[r]:(...t)=>{const[a]=t;m[r]&&m[r](...t);const n=a?a.target:null,s=n?d?n.checked:n.value:a;e.setFormModel(l,s,e.schema)}},{size:u}=e.formProps,p=Xe.get(t),m={allowClear:!1,size:u,disabled:(0,s.SU)(w),...(0,s.SU)(g),style:i};m.formValues=(0,s.SU)(f);const v={[o||(d?"checked":"value")]:e.formModel[l]},h={...m,...c,...v};return(0,n.Wm)(p,h,null)}(),o=S||P?{flex:"1 1 0%"}:{};return(0,n.Wm)(u.ZP.Item,(0,n.dG)({name:a,colon:T,label:_()},i,{rules:k(),labelCol:U,wrapperCol:x}),{default:()=>[(0,n.Wm)("div",{style:"display:flex;align-items: center"},[(0,n.Wm)("div",{style:o},[l()]),D&&(0,n.Wm)("span",{class:"suffix"},[A])])]})}}())?a:{default:()=>[a]}),[[i.F8,m]])}}});var vt=a(69671),ht={};ht.styleTagTransform=H(),ht.setAttributes=j(),ht.insert=Z().bind(null,"head"),ht.domAPI=L(),ht.insertStyleElement=I(),C()(vt.Z,ht),vt.Z&&vt.Z.locals&&vt.Z.locals;const bt=(0,E.Z)(mt,[["__scopeId","data-v-6b93802f"]]),yt={style:{width:"100%"}};var gt=a(49421),wt=a(77121);const{t:_t}=A.i18n.global,kt=(0,n.aZ)({name:"BasicFormAction",components:{DownOutlined:gt.Z,UpOutlined:wt.Z},props:{showActionButtonGroup:{type:Boolean,default:!0},showResetButton:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},isAdvanced:{type:Boolean,default:!1},showAdvancedButton:{type:Boolean,default:!0},hideAdvanceBtn:{type:Boolean,default:!1},resetButtonOptions:{type:Object,default:()=>({})},submitButtonOptions:{type:Object,default:()=>({})},advancedButtonOptions:{type:Object,default:()=>({})},actionBtnStyle:{type:Object,default:()=>({})},actionSpan:{type:Number,default:6},actionColOptions:{type:Object,default:()=>({})},actionAfter:{type:Function}},emits:["form-submit","form-reset","toggle-advanced"],setup:(e,{emit:t})=>({getResetBtnOptions:(0,n.Fl)((()=>Object.assign({text:_t("cd60126447a6f69bd306a63e4de6e43ce6aad948b8d865836998d4855ea27760")},e.resetButtonOptions))),getSubmitBtnOptions:(0,n.Fl)((()=>Object.assign({text:_t("cd60126447a6f69bd306a63e4de6e43cbde349119877fe7240250a0c6816ac54")},e.submitButtonOptions))),submitForm:function(){t("form-submit")},resetForm:function(){t("form-reset")},toggleAdvanced:function(){t("toggle-advanced")},actionColOpt:(0,n.Fl)((()=>{const{actionColOptions:t}=e;return{style:e.actionBtnStyle,...t}})),getAdvanceAfter:()=>{const{actionAfter:t}=e;return(0,o.mf)(t)?t():t}})});var St=a(83860),Ut={};Ut.styleTagTransform=H(),Ut.setAttributes=j(),Ut.insert=Z().bind(null,"head"),Ut.domAPI=L(),Ut.insertStyleElement=I(),C()(St.Z,Ut),St.Z&&St.Z.locals&&St.Z.locals;const xt=(0,E.Z)(kt,[["render",function(e,t,a,s,o,i){const d=(0,n.up)("a-button"),r=(0,n.up)("UpOutlined"),c=(0,n.up)("DownOutlined"),u=(0,n.up)("a-form-item"),p=(0,n.up)("a-col");return e.showActionButtonGroup?((0,n.wg)(),(0,n.j4)(p,(0,l.vs)((0,n.dG)({key:0},e.actionColOpt)),{default:(0,n.w5)((()=>[(0,n._)("div",yt,[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"actionTools",{},void 0,!0),e.showResetButton?((0,n.wg)(),(0,n.j4)(d,(0,n.dG)({key:0,type:"default"},e.getResetBtnOptions,{onClick:e.resetForm}),{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.getResetBtnOptions.text),1)])),_:1},16,["onClick"])):(0,n.kq)("v-if",!0),e.showSubmitButton?((0,n.wg)(),(0,n.j4)(d,(0,n.dG)({key:1,type:"primary"},e.getSubmitBtnOptions,{onClick:e.submitForm}),{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.getSubmitBtnOptions.text),1)])),_:1},16,["onClick"])):(0,n.kq)("v-if",!0),e.showAdvancedButton&&!e.hideAdvanceBtn?((0,n.wg)(),(0,n.j4)(d,(0,n.dG)({key:2,type:"link",class:"advance_btn",onClick:e.toggleAdvanced},e.advancedButtonOptions),{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.advancedButtonOptions.text||(e.isAdvanced?"收起":"展开"))+" ",1),e.isAdvanced?((0,n.wg)(),(0,n.j4)(r,{key:0})):((0,n.wg)(),(0,n.j4)(c,{key:1}))])),_:1},16,["onClick"])):(0,n.kq)("v-if",!0),((0,n.wg)(),(0,n.j4)((0,n.LL)(e.getAdvanceAfter)))])),_:3})])])),_:3},16)):(0,n.kq)("v-if",!0)}],["__scopeId","data-v-47f4ea39"]]),Tt={model:{type:Object,default:()=>({})},schemas:{type:Array,default:()=>[]},layout:{type:String,default:"horizontal"},baseColProps:{type:Object,default:()=>({})},helpComponentProps:{type:Object,default:()=>({})},labelCol:{type:Object,default:()=>({})},actionColOptions:{type:Object,default:()=>({})},labelAlign:{type:String,default:"right"},labelWidth:{type:[Number,String],default:120},colon:{type:Boolean,default:!0},isColFull:{type:Boolean,default:!0},size:{type:String,default:"default"},disabled:{type:Boolean,default:!1},showActionButtonGroup:{type:Boolean,default:!0},showResetButton:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},showAdvancedButton:{type:Boolean,default:!1},submitButtonOptions:{type:Object,default:()=>({})},resetButtonOptions:{type:Object,default:()=>({})},advancedButtonOptions:{type:Object,default:()=>({})},alwaysShowLines:{type:Number,default:1},autoAdvancedLine:{type:Number,default:3},resetFunc:Function,submitFunc:Function,rowProps:{type:Object,default:()=>({})},baseRowStyle:{type:Object,default:()=>({})},actionBtnStyle:{type:Object,default:()=>({})},actionAfter:Function,transformDateFunc:{type:Function,default:e=>{var t,a;return null!==(t=null==e||null===(a=e.format)||void 0===a?void 0:a.call(e,"YYYY-MM-DD HH:mm:ss"))&&void 0!==t?t:e}},fieldMapToTime:{type:Array,default:()=>[]},isAdvanced:{type:Boolean,default:!0}},Pt=ee();a(85827);var Dt=a(28472);const At=function(e,t,a){return null==e?e:(0,Dt.Z)(e,t,a)};function Wt(e,t,a){const n=/^\[(.+)\]$/;if(n.test(e)){const s=e.match(n);if(s&&s[1]){const e=s[1].split(",");return t=Array.isArray(t)?t:[t],e.forEach(((e,n)=>{At(a,e.trim(),t[n])})),!0}}}function Mt(e,t,a){const n=/^\{(.+)\}$/;if(n.test(e)){const s=e.match(n);if(s&&s[1]){const e=s[1].split(",");return t=(0,o.Kn)(t)?t:{},e.forEach((e=>{At(a,e.trim(),t[e.trim()])})),!0}}}let $t=function(e){return e.XS="XS",e.SM="SM",e.MD="MD",e.LG="LG",e.XL="XL",e.XXL="XXL",e}({}),Ct=function(e){return e[e.XS=480]="XS",e[e.SM=576]="SM",e[e.MD=768]="MD",e[e.LG=992]="LG",e[e.XL=1200]="XL",e[e.XXL=1600]="XXL",e}({});const Ft=new Map;Ft.set($t.XS,Ct.XS),Ft.set($t.SM,Ct.SM),Ft.set($t.MD,Ct.MD),Ft.set($t.LG,Ct.LG),Ft.set($t.XL,Ct.XL),Ft.set($t.XXL,Ct.XXL);const Lt=(0,n.aZ)({__name:"BaseForm",props:Tt,emits:["field-value-change","register","reset","submit"],setup(e,{emit:t}){const a=e,{t:i}=A.i18n.global,r=(0,n.l1)(),c=(0,s.qj)({}),u=(0,s.iH)({}),p=(0,s.iH)(null),f=(0,s.iH)({}),m=(0,s.iH)(null),v=(0,n.Fl)((()=>({...a,...(0,s.SU)(u)}))),h=(0,n.Fl)((()=>{const{baseRowStyle:e={},rowProps:t}=(0,s.SU)(v);return{style:e,...t}})),b=(0,n.Fl)((()=>({isAdvanced:(0,s.SU)(v).isAdvanced,hideAdvanceBtn:!1,isLoad:!1}))),y=(0,n.Fl)((()=>({...v.value,...b}))),g=(0,n.Fl)((()=>({...r,...a,...(0,s.SU)(u)}))),w=(0,n.Fl)((()=>{const e=(0,s.SU)(m)||(0,s.SU)(v).schemas;for(const a of e){var t;const{defaultValue:e,component:n,isHandleDateDefaultValue:l=!0}=a;if(l&&e&&(pt.includes(n)||"CompWithsuffixBtn"==n&&pt.includes(null===(t=(0,s.SU)(a.componentProps))||void 0===t?void 0:t.compName)))if(Array.isArray(e)){const t=[];e.forEach((e=>{t.push(Pt(e))})),a.defaultValue=t}else a.defaultValue=Pt(e)}return e})),_=(e,a,n)=>{c[e]=a,(0,o.mf)(n.dynamicRules)||(0,o.kJ)(n.rules)||t("field-value-change",e,a,c)},k=e=>{u.value={...(0,s.SU)(u),...e}},{handleFormValues:S,initDefaultValues:U}=function({defaultValueRef:e,getSchema:t,getProps:a,formModel:n}){return{initDefaultValues:function(){const a=(0,s.SU)(t),l={};a.forEach((e=>{const{defaultValue:t}=e;l[e.field]=t,void 0===n[e.field]&&(n[e.field]=t)})),e.value=(0,d.p$)(l)},handleFormValues:function(e){if(!(0,o.Kn)(e))return{};const t={};for(const i of Object.entries(e)){var n,l;let[,e]=i;const[d]=i;if(!d||(0,o.kJ)(e)&&0===e.length||(0,o.mf)(e))continue;const r=(0,s.SU)(a).transformDateFunc;(0,o.Kn)(e)&&(e=null==r?void 0:r(e)),(0,o.kJ)(e)&&null!==(n=e[0])&&void 0!==n&&n.format&&null!==(l=e[1])&&void 0!==l&&l.format&&(e=e.map((e=>null==r?void 0:r(e)))),(0,o.HD)(e)&&(e=e.trim()),Wt(d,e,t)||Mt(d,e,t)||At(t,d,e)}return function(e){const t=(0,s.SU)(a).fieldMapToTime;if(!t||!Array.isArray(t))return e;for(const[a,[n,s],l]of t){if(!a||!n||!s)continue;if(!e[a]){Reflect.deleteProperty(e,a);continue}const[t,o]=e[a],[i,d]=Array.isArray(l)?l:[l,l];e[n]=Pt(t).format(i),e[s]=Pt(o).format(d),Reflect.deleteProperty(e,a)}return e}(t)}}}({defaultValueRef:f,getSchema:w,getProps:v,formModel:c}),{handleToggleAdvanced:x,fieldsIsAdvancedMap:T}=function({advanceState:e,getProps:t,getSchema:a,formModel:n,defaultValueRef:s,setProps:l}){const i=shallowReactive({}),d=getCurrentInstance(),{realWidthRef:r,screenEnum:c}={screenRef:computed((()=>unref(void 0))),widthRef:void 0,screenEnum:Ct,realWidthRef:void 0};function u(a,n=0,s=!1){const l=unref(r),o=a.md||a.xs||a.sm||a.span||24,i=a.lg||o,d=a.xl||i,u=a.xxl||d;return l<=c.LG?n+=o:l<c.XL?n+=i:l<c.XXL?n+=d:n+=u,s?(e.value.hideAdvanceBtn=!1,n<=48?(e.value.hideAdvanceBtn=!0,e.value.isAdvanced=!0):n>48&&n<=24*(unref(t).autoAdvancedLine||3)?e.value.hideAdvanceBtn=!1:e.value.isLoad||(e.value.isLoad=!0,e.value.isAdvanced=!e.value.isAdvanced),{isAdvanced:e.value.isAdvanced,itemColSum:n}):n>24*(unref(t).alwaysShowLines||1)?{isAdvanced:e.value.isAdvanced,itemColSum:n}:{isAdvanced:!0,itemColSum:n}}return watch([()=>unref(a),()=>e.value.isAdvanced,()=>unref(r)],(()=>{const{showAdvancedButton:e}=unref(t);e&&function(){var e;let l=0;const{baseColProps:r={}}=unref(t);for(const e of unref(a)){const{show:t,colProps:a}=e;let d=!0;if((0,o.jn)(t)&&(d=t),(0,o.mf)(t)&&(d=t({schema:e,model:n,field:e.field,values:{...unref(s),...n}})),d&&(a||r)){const{itemColSum:t,isAdvanced:n}=u({...r,...a},l);l=t||0,i[e.field]=n}}null==d||null===(e=d.proxy)||void 0===e||e.$forceUpdate(),u(unref(t).actionColOptions||{span:24},l,!0)}()}),{immediate:!0}),{handleToggleAdvanced:function(){l({isAdvanced:!e.value.isAdvanced})},fieldsIsAdvancedMap:i}}({advanceState:b,getProps:v,getSchema:w,formModel:c,defaultValueRef:f,setProps:k}),{validate:P,validateFields:D,resetFields:W,handleSubmit:M,appendSchemaByField:$,removeSchemaByField:C,setFieldsValue:F,getFieldsValue:L,resetSchema:B,getCurFields:Z}=function({formElRef:e,formModel:t,defaultValueRef:a,emits:n,getProps:l,getSchema:i,schemaRef:r,handleFormValues:c}){async function u(e){const n=(0,s.SU)(i).map((e=>e.field)).filter(Boolean),l=n.filter((e=>e.indexOf(".")>=0)),r=[];Object.keys(e).forEach((c=>{const u=(0,s.SU)(i).find((e=>e.field===c));let p=e[c];const f=Reflect.has(e,c);var m,v;v=p,p=(m=null==u?void 0:u.component)&&["Input","InputPassword","InputSearch","InputTextArea"].includes(m)&&v&&(0,o.hj)(v)?`${v}`:v;const{componentProps:h}=u||{};let b=h;if("function"==typeof h&&(b=b({formModel:(0,s.SU)(t)})),f&&n.includes(c)){var y,g;if(function(e){return(0,s.SU)(i).some((t=>t.field===e&&pt.includes(t.component)))}(c))if(Array.isArray(p)){const e=[];for(const t of p)e.push(t?Pt(t):null);(0,s.SU)(t)[c]=e}else{var w;(0,s.SU)(t)[c]=p?null!==(w=b)&&void 0!==w&&w.valueFormat?p:Pt(p):null}else(0,s.SU)(t)[c]=p;null!==(y=b)&&void 0!==y&&y.onChange&&(null===(g=b)||void 0===g||g.onChange(p)),r.push(c)}else l.forEach((n=>{try{const a=n.split(".").reduce(((e,t)=>e[t]),e);(0,o.Xq)(a)&&((0,s.SU)(t)[n]=(0,s.SU)(a),r.push(n))}catch(e){(0,o.Xq)(a.value[n])&&((0,s.SU)(t)[n]=(0,d.p$)((0,s.SU)(a.value[n])))}}))})),m(r).catch((e=>{}))}function p(e,a){if((0,o.HD)(e)){const n=a.findIndex((t=>t.field===e));-1!==n&&(delete t[e],a.splice(n,1))}}async function f(t){var a;return await(null===(a=(0,s.SU)(e))||void 0===a?void 0:a.validate(t))}async function m(t){var a;return null===(a=(0,s.SU)(e))||void 0===a?void 0:a.validateFields(t)}function v(e){let t=[];(0,o.Kn)(e)&&t.push(e),(0,o.kJ)(e)&&(t=[...e]);const a={},n=h();t.forEach((e=>{"Divider"==e.component||!Reflect.has(e,"field")||!e.field||(0,o.BD)(e.defaultValue)||e.field in n&&!(0,o.BD)(n[e.field])||(a[e.field]=e.defaultValue)})),u(a)}function h(){return(0,s.SU)(e)?c((0,s.IU)((0,s.SU)(t))):{}}return{validate:f,validateFields:m,resetFields:function(){Object.keys(t).forEach((e=>{const n=(0,s.SU)(a)[e];t[e]=n})),n("reset",(0,s.IU)(t))},handleSubmit:async function(){const{submitFunc:e}=(0,s.SU)(l);e&&await e();const t=await f(),a=c(t);n("submit",a)},appendSchemaByField:async function(e,a,n=!1){const l=(0,d.p$)((0,s.SU)(i)),c=l.findIndex((e=>e.field===a)),u=(0,o.Kn)(e)?[e]:e;if(!a||-1===c||n)return n?l.unshift(...u):l.push(...u),r.value=l,void v(e);-1!==c&&l.splice(c+1,0,...u),t[u[0].field]=u[0].defaultValue,v(e),r.value=l},removeSchemaByField:async function(e){const t=(0,d.p$)((0,s.SU)(i));if(!e)return;let a=(0,o.HD)(e)?[e]:e;(0,o.HD)(e)&&(a=[e]);for(const e of a)p(e,t);r.value=t},setFieldsValue:u,getFieldsValue:h,resetSchema:async function(e){let t=[];(0,o.Kn)(e)&&t.push(e),(0,o.kJ)(e)&&(t=[...e]),t.every((e=>"Divider"===e.component||Reflect.has(e,"field")&&e.field))?r.value=t:console.log("All children of the form Schema array that need to be updated must contain the `field` field")},getCurFields:async function(){return(0,s.SU)(i)}}}({formElRef:p,formModel:c,defaultValueRef:f,emits:t,getProps:v,getSchema:w,schemaRef:m,handleFormValues:S}),O={setProps:k,validate:P,validateFields:D,resetFields:W,submit:M,removeSchemaByField:C,appendSchemaByField:$,setFieldsValue:F,getFieldsValue:L,resetSchema:B,getCurFields:Z};return watch((()=>(0,s.SU)(v).model),(()=>{const{model:e}=(0,s.SU)(v);e&&F(e)}),{immediate:!0}),watch((()=>(0,s.SU)(v).schemas),(e=>{B(null!=e?e:[])})),U(),t("register",O),(e,t)=>{const a=(0,n.up)("a-row"),o=(0,n.up)("a-form");return(0,n.wg)(),(0,n.j4)(o,(0,n.dG)(g.value,{ref_key:"formElRef",ref:p,model:c}),{default:(0,n.w5)((()=>[(0,n.Wm)(a,(0,l.vs)((0,n.F4)(h.value)),{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.value,(t=>((0,n.wg)(),(0,n.j4)(bt,{key:t.field,isAdvanced:(0,s.SU)(T)[t.field],schema:t,formProps:v.value,setFormModel:_,formModel:c},(0,n.Nv)({_:2},[(0,n.Ko)(Object.keys(e.$slots),(t=>({name:t,fn:(0,n.w5)((a=>[(0,n.WI)(e.$slots,t,(0,l.vs)((0,n.F4)(a||{})))]))})))]),1032,["isAdvanced","schema","formProps","formModel"])))),128)),(0,n.Wm)(xt,(0,n.dG)(y.value,{onFormSubmit:(0,s.SU)(M),onFormReset:(0,s.SU)(W),onToggleAdvanced:(0,s.SU)(x)}),{actionTools:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"tool")])),_:3},16,["onFormSubmit","onFormReset","onToggleAdvanced"])])),_:3},16)])),_:3},16,["model"])}}}),Bt=Lt;function Zt(e){const t=(0,s.iH)(null),a=(0,s.iH)(!1);async function l(){const e=(0,s.SU)(t);if(!e)throw new Error("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!");return await(0,n.Y3)(),e}return[function(l){(0,s.SU)(a)&&l===(0,s.SU)(t)||(t.value=l,a.value=!0,(0,n.YP)((()=>e),(()=>{e&&l.setProps(e)}),{immediate:!0,deep:!0}))},{submit:async()=>(await l()).submit(),resetFields:async()=>{l().then((async e=>{e.resetFields()}))},setProps:async e=>{(await l()).setProps(e)},validate:async e=>(await l()).validate(e),validateFields:async e=>(await l()).validateFields(e),removeSchemaByField:async e=>{var a;null===(a=(0,s.SU)(t))||void 0===a||a.removeSchemaByField(e)},appendSchemaByField:async(e,t,a)=>{(await l()).appendSchemaByField(e,t,a)},setFieldsValue:async e=>{(await l()).setFieldsValue(e)},getFieldsValue:()=>{var e;return null===(e=(0,s.SU)(t))||void 0===e?void 0:e.getFieldsValue()},resetSchema:async e=>{(await l()).resetSchema(e)},getCurFields:async()=>{const e=await l();return await e.getCurFields()}}]}a(21703);var Ot=a(31769),jt=a(61446),zt=a(92534),It=a(2610),Rt=a(39364),Ht=a(46951);const Vt={key:0,class:"info"},Gt={key:0,class:"message"},Et={key:1},qt={key:0,class:"message"},Nt={key:0},Xt={key:1},Kt={key:1,class:"message"},Yt=(0,n.aZ)({__name:"VulnCheckModal",props:{visible:{type:Boolean},paramsData:{},type:{}},emits:["cancel","getProcess"],setup(e,{emit:t}){const o=e,i=(0,ae.E)(),{t:d}=(0,te.QT)(),r=(0,s.iH)(!1),c=(0,s.iH)({}),u=(0,s.iH)(!1);let p;const f=[{field:"vul_name",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7fea50222e55e7797512394b31c7bab786"),component:"Input",defaultValue:"",render:({model:e,field:t})=>h("span",{},e[t])},{field:"exp_desc",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7fc9e845a27a7d432c326a8c3e6d62e9c8"),component:"Input",defaultValue:"",render:({model:e,field:t})=>h("span",{},e[t])},{field:"host_ip",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7ffc0875565286ed9fd5bbda8757567961"),component:"Input",defaultValue:"",render:({model:e,field:t})=>h("span",{},e[t]),ifShow:"host"===o.type},{field:"host_port",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f34c5abc7bd2bd3635ac5d92ae330a370"),component:"Input",defaultValue:"",render:({model:e,field:t})=>h("span",{},e[t]),ifShow:"host"===o.type},{field:"host_os",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f83f051d04dd96f5ca647a07bc3055b01c2324aa3404f38b4cad6e6ab22189c0d"),component:"Input",defaultValue:"",render:({model:e,field:t})=>h("span",{},e[t]),ifShow:"host"===o.type},{field:"vul_url",label:"URL",component:"Input",defaultValue:"",render:({model:e,field:t})=>h("span",{style:{wordBreak:"break-all"}},e[t]),ifShow:"web"===o.type},{field:"auth",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7fbf3bedf7f36d9d34dc28d5a18a0232a2"),component:"Select",defaultValue:"",componentProps:{options:[{label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f4bc8b8e962fefef9becc5904e34e71ca"),value:"auto"},{label:"Basic",value:"Basic"},{label:"NTLM",value:"NTLM"},{label:"Digest-MD5",value:"Digest-MD5"}]},ifShow:()=>"web"===o.type&&""!==o.paramsData.vul_request_header&&""!==o.paramsData.auth},{field:"username",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f18fcb7fea899ce3a79f18643f3a91c48"),component:"Input",defaultValue:"",ifShow:()=>"web"===o.type&&""!==o.paramsData.vul_request_header&&""!==o.paramsData.auth},{field:"password",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f8f43857ccb200c011f7d54ec04bc12f4"),component:"Input",componentProps:{type:"password"},defaultValue:"",ifShow:()=>"web"===o.type&&""!==o.paramsData.vul_request_header&&""!==o.paramsData.auth},{field:"vul_request_header",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f924ae35ef92f2853332a774a0cc407d0"),component:"Textarea",componentProps:{rows:4},defaultValue:"",ifShow:()=>"web"===o.type&&""!==o.paramsData.vul_request_header},{field:"exp_type",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f5119453561f61680aaf7e2f8f780fda00e9911205582e8b16ef6f566f86bfb4c"),component:"Select",defaultValue:"",componentProps:()=>{var e,t;return{options:((null===(e=o.paramsData)||void 0===e?void 0:e.exp_types)||(null===(t=o.paramsData)||void 0===t?void 0:t.exp_type_list.map((e=>[e.exp_type,e.exp_type_desc])))).map((e=>({label:e[1],value:e[0]})))||[],onChange:e=>{console.log(e)}}}},{field:"vuln_check",component:"Input",label:"",itemProps:{colon:!1},render:({model:e,field:n})=>h(Ot.Z,{type:"primary",disabled:r.value,onClick:()=>{"web"===o.type?async function(e){const{getWebWarningInfoApi:n}=await a.e(83).then(a.bind(a,83)),{data:s}=await n({expType:e});"success"==s.status?(0,zt.Z)({iconType:"warning",title:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f33017ef485de88458569da2743dfbe96"),content:s.warning_info,onOk:()=>{!async function(){const{doVulConfirmApi:e,getVulConfirmProcessApi:n}=await a.e(83).then(a.bind(a,83));p=n,u.value=!0,r.value=!0;const s=await w();if(s.errorFields)return;const{data:l}=await e({...s,task_id:o.paramsData.task_id.toString(),scan_vuls_id:o.paramsData.web_scan_vuls_id.toString(),vul_id:o.paramsData.vul_id.toString()});"success"==l.status?(_(),t("getProcess")):(r.value=!1,c.value={},"param_error"==l.status?(c.value.error_icon=-2,c.value.error=l.error_vul_request_header||l.error_exp_value):"too_tasks"==l.status?(c.value.error_icon=-2,c.value.error=l.msg):c.value.error=l.msg)}()}}):jt.ZP.error(s.error)}(e.exp_type):async function(e){const{getWarningInfoApi:n}=await a.e(83).then(a.bind(a,83)),{data:s}=await n({expType:e});"success"==s.status?(0,zt.Z)({iconType:"warning",title:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f33017ef485de88458569da2743dfbe96"),content:s.exp_type_warn_info,onOk:()=>{!async function(e){var n,s,l,i,d,p,f;const{doAttackApi:m}=await a.e(83).then(a.bind(a,83));u.value=!0,r.value=!0;const v=await w();if(v.errorFields)return;t("getProcess");const{data:h}=await m({...v,exp_type:e,result_textarea:null===(n=o.paramsData)||void 0===n?void 0:n.result_textarea,task_id:null===(s=o.paramsData)||void 0===s?void 0:s.task_id,vul_id:null===(l=o.paramsData)||void 0===l?void 0:l.vul_id,host_ip:null===(i=o.paramsData)||void 0===i?void 0:i.host_ip,port:null===(d=o.paramsData)||void 0===d?void 0:d.port,host_os:null===(p=o.paramsData)||void 0===p?void 0:p.host_os,batch:"no",scan_vuls_id:null===(f=o.paramsData)||void 0===f?void 0:f.scan_vuls_id});r.value=!1,c.value=h,-2==h.error_icon||y({result_textarea:h.proof})}(e)}}):jt.ZP.error(s.exp_type_warn_info)}(e.exp_type)}},d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f272104c8002bafc4727bedbb4a46aec5"))},{field:"divider-basic",component:"Divider",label:""},{field:"result_textarea",label:d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f54f108556519015698a60677aead7ca2"),component:"Textarea",defaultValue:"",componentProps:{rows:4,disabled:!0},itemStyle:{color:"#000",backgroundColor:"#fff"}}],m=(0,n.Fl)((()=>o.visible)),v={baseRowStyle:{display:"block"},baseColProps:{span:24},labelWidth:"zh"===i.getLocale?120:150,showActionButtonGroup:!1},[b,{setFieldsValue:y,appendSchemaByField:g,validate:w}]=Zt({schemas:f,...v});async function _(){const{data:e}=await p({task_id:o.paramsData.task_id,site_id:o.paramsData.task_site_id});if("running"==e.status)setTimeout(_,4e3);else if("finished"==e.status){const{getVulConfirmResultApi:e}=await a.e(83).then(a.bind(a,83)),{data:t}=await e({scan_vuls_id:o.paramsData.web_scan_vuls_id});if(r.value=!1,"success"==t.status){const e=t.data;e.exp_result?(c.value.result=!0,y({result_textarea:e.exp_proof})):c.value.result=!1,c.value.reason=e.exp_msg}}else c.value.reason=d("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7fe7cb58fce8f000a0e381f0e47e6437dcf16971f8d0bec9cb8457d4604cf33b83")}function k(){t("cancel")}return(0,n.YP)((()=>o.paramsData),(()=>{nextTick((()=>{if("blank"!==o.paramsData.exp_value_format){let e="";e="select"===o.paramsData.exp_value_format?o.paramsData.exp_value||o.paramsData.exp_payloads&&o.paramsData.exp_payloads[0]||o.paramsData.exp_param_list&&o.paramsData.exp_param_list[0]:"input"===o.paramsData.exp_value_format?"host"===o.type?o.paramsData.exp_value||o.paramsData.exp_payloads[0]:o.paramsData.exp_param_list:o.paramsData.exp_value||o.paramsData.exp_payloads[0],g({field:"exp_value",component:"select"===o.paramsData.exp_value_format?"Select":"Input",label:o.paramsData.exp_value_desc,defaultValue:e||"",componentProps:()=>{let e=o.paramsData.exp_payloads||o.paramsData.exp_param_list;return"select"===o.paramsData.exp_value_format?{options:e.map((e=>({label:e,value:e})))}:{maxLength:256}}},"exp_type")}console.log(f);const e=unref(o.paramsData),t={};for(let a in e)t[a]=e[a];"{}"!==JSON.stringify(t)&&y(t)}))}),{deep:!0}),(e,t)=>{const a=(0,n.up)("a-modal");return(0,n.wg)(),(0,n.j4)(a,{class:"no-border-modal",title:e.$t("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f3c74ef8419d84dc96a4e49895a350d71"),width:700,visible:m.value,"onUpdate:visible":t[0]||(t[0]=e=>m.value=e),footer:null,maskClosable:!1,onCancel:k},{default:(0,n.w5)((()=>[u.value?((0,n.wg)(),(0,n.iD)("div",Vt,[r.value?((0,n.wg)(),(0,n.iD)("div",Gt,[(0,n.Wm)((0,s.SU)(ze.Z)),(0,n._)("span",null,(0,l.zw)(e.$t("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7fbed8f9bbce7ed9562f2df3776f3f9a0a02ad75e1f92d81d118dfcb8904e62a67cdc3fee8899a5ce747cf2fc27a5cfce3aaf7d8d934e21975dba8250bf8de9a19")),1)])):((0,n.wg)(),(0,n.iD)("div",Et,[void 0!==c.value.result&&""!==c.value.result&&null!==c.value.result?((0,n.wg)(),(0,n.iD)("div",qt,[c.value.result?((0,n.wg)(),(0,n.j4)((0,s.SU)(It.Z),{key:0,style:{color:"#55a722"}})):((0,n.wg)(),(0,n.j4)((0,s.SU)(Rt.Z),{key:1,style:{color:"#ec4f4f"}})),(0,n._)("span",{style:(0,l.j5)({color:c.value.result?"#55a722":"#ec4f4f"})},["host"===o.type?((0,n.wg)(),(0,n.iD)("span",Nt,(0,l.zw)(c.value.result?(0,s.SU)(d)("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f4c1f8b2f5694445521688a17e5b9fb66fe2ada7d1573877c53b34e20db956f95"):`${(0,s.SU)(d)("a68595c99d93674665c126f16848190166dec0dfa5ee7e4a3e52d9492127467f049e0182aea6c4692d72767e99a04e7f6f93ee071522e5708c12ca40fba71ddd4a8bebe4c5f8550bbe147fc628f32be6")}${c.value.reason}`),1)):((0,n.wg)(),(0,n.iD)("span",Xt,(0,l.zw)(c.value.reason),1))],4)])):c.value.error?((0,n.wg)(),(0,n.iD)("div",Kt,[-2==c.value.error_icon?((0,n.wg)(),(0,n.j4)((0,s.SU)(Ht.Z),{key:0,style:{color:"#f59f00"}})):((0,n.wg)(),(0,n.j4)((0,s.SU)(Rt.Z),{key:1,style:{color:"#ec4f4f"}})),(0,n._)("span",{style:(0,l.j5)({color:-2==c.value.error_icon?"#f59f00":"#ec4f4f"})},(0,l.zw)(c.value.error),5)])):(0,n.kq)("v-if",!0)]))])):(0,n.kq)("v-if",!0),(0,n.Wm)((0,s.SU)(Bt),(0,n.dG)({schemas:f,onRegister:(0,s.SU)(b)},v),null,16,["onRegister"])])),_:1},8,["title","visible"])}}});var Jt=a(99876),Qt={};Qt.styleTagTransform=H(),Qt.setAttributes=j(),Qt.insert=Z().bind(null,"head"),Qt.domAPI=L(),Qt.insertStyleElement=I(),C()(Jt.Z,Qt),Jt.Z&&Jt.Z.locals&&Jt.Z.locals;const ea=(0,E.Z)(Yt,[["__scopeId","data-v-a8ee7412"]])}}]);